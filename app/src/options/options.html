<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Js -->
    <script src="./js/datatables.min.js"></script>
    <script type="module" src="./js/main.js"></script>
    <!-- Css -->
    <link rel="stylesheet" href="./css/datatables.min.css">
    <link rel="stylesheet" href="./css/margin.css">
    <link rel="stylesheet" href="./css/main.css">
</head>

<body id="main">
    <div id="sidebar">
        <section id="sidebar-content-top">
            <a id="page-title" href="https://github.com/kevin-mizu/domloggerpp" target="_blank">
                <h1 class="mgb-30">DOMLogger++</h1>
            </a>
            <nav id="sidebar-tabs">
                <ul>
                    <li><a class="tablink" href="#settings">
                        <svg width="15px" viewBox="0 0 512 512" class="background-color mgr-10">
                            <use xlink:href="./img/gear-solid.svg#gear-icon"></use>
                        </svg>
                        <span>Settings</span>
                    </a></li>
                    <li><a class="tablink" href="#domains">
                        <svg width="15px" viewBox="0 0 512 512" class="background-color mgr-10">
                            <use xlink:href="./img/bullseye-solid.svg#bullseye-icon"></use>
                        </svg>
                        <span>Domains</span>
                    </a></li>
                    <li><a class="tablink" href="#webhook">
                        <svg width="18px" viewBox="0 0 512 512" class="background-color mgr-10">
                            <use xlink:href="./img/webhook-solid.svg#webhook-icon"></use>
                        </svg>
                        <span>Webhook</span>
                    </a></li>
                    <li><a class="tablink" href="#devtools">
                        <svg width="15px" viewBox="0 0 512 512" class="background-color mgr-10">
                            <use xlink:href="./img/hammer-solid.svg#hammer-icon"></use>
                        </svg>
                        <span>Devtools</span>
                    </a></li>
                    <li><a id="tablink-customizeTable" class="tablink" href="#customizeTable">
                        <svg width="15px" viewBox="0 0 512 512" class="background-color mgr-10">
                            <use xlink:href="./img/pen-solid.svg#pen-icon"></use>
                        </svg>
                        <span>Table</span>
                    </a></li>
                    <li><a class="tablink" href="#customizeColor">
                        <svg width="15px" viewBox="0 0 512 512" class="background-color mgr-10">
                            <use xlink:href="./img/pen-solid.svg#pen-icon"></use>
                        </svg>
                        <span>Colors</span>
                    </a></li>
                    <hr>
                    <li><a class="tablink" href="#about">
                        <svg width="15px" viewBox="0 0 512 512" class="background-color mgr-10">
                            <use xlink:href="./img/circle-info-solid.svg#circle-info-icon"></use>
                        </svg>
                        <span>About</span>
                    </a></li>
                </ul>
            </nav>
        </section>
        <section id="sidebar-content-bottom">
            <hr>
            <div id="sidebar-icons">
                <a class="icon" href="https://github.com/kevin-mizu/domloggerpp" target="_blank">
                    <svg width="18px" viewBox="0 0 512 512" class="background-color mgr-10">
                        <use xlink:href="./img/github-solid.svg#github-icon"></use>
                    </svg>
                </a>
                <a class="icon" href="https://twitter.com/kevin_mizu" target="_blank">
                    <svg width="18px" viewBox="0 0 512 512" class="background-color mgr-10">
                        <use xlink:href="./img/twitter-solid.svg#twitter-icon"></use>
                    </svg>
                </a>
            </div>
            <span>v1.0.5</span>
        </section>
    </div>

    <div id="main-content">
        <div id="settings" class="tab" style="display: none;">
            <h1 class="mgt-10 mgb-10">Hooking settings</h1>
            <div class="action-bar">
                <select id="hook" name="hook" class="mgr-30" style="width: 100%;"></select>

                <svg id="add" width="25px" viewBox="0 0 512 512" class="pointer text-color mgl-10 mgr-10">
                    <use xlink:href="./img/plus-solid.svg#plus-icon"></use>
                </svg>
                <svg id="rename" width="21px" viewBox="0 0 512 512" class="pointer text-color mgl-10 mgr-10">
                    <use xlink:href="./img/pen-solid.svg#pen-icon"></use>
                </svg>
                <svg id="save" width="21px" viewBox="0 0 512 512" class="pointer text-color mgl-10 mgr-10">
                    <use xlink:href="./img/floppy-disk-solid.svg#floppy-disk-icon"></use>
                </svg>
                <svg id="remove" width="21px" viewBox="0 0 512 512" class="pointer text-color mgl-10 mgr-10">
                    <use xlink:href="./img/trash-solid.svg#trash-icon"></use>
                </svg>
                <svg id="import" width="21px" viewBox="0 0 512 512" class="pointer text-color mgl-10 mgr-10">
                    <use xlink:href="./img/file-import-solid.svg#file-import-icon"></use>
                </svg>
                <input type="file" id="importFile" hidden>
            </div>
            <div class="json-editor mgb-10">
                <textarea id="editor" disabled></textarea>
            </div>
            <span class="error" id="errorConfig"></span>

            <div id="modal" class="modal">
                <div id="modal-content" class="modal-content">
                    <span class="close">&times;</span>
                    <h3 class="mgb-30">Config's name</h3>
                    <input class="mgb-20" id="hookName" placeholder="name">
                    <input id="modalAction" hidden>
                    <button id="modalButton"></button>
                </div>
            </div>
        </div>

        <div id="domains" class="tab" style="display: none;">
            <h1 class="mgb-10">Domains (regex)</h1>
            <input id="addDomains" name="addDomains" class="mgb-30" placeholder="mizu.re">
            <div id="allowedDomains" class="mgb-20"></div>
        </div>

        <div id="webhook" class="tab" style="display: none;">
            <h1 class="mgb-10">Webhook</h1>
            <input class="mgb-10" id="webhookURL" name="webhookURL" placeholder="https://mizu.re/" width="100%"><br>
            <span class="error" id="errorWebhook"></span>
        </div>

        <div id="devtools" class="tab" style="display: none;">
            <h1 class="mgt-10 mgb-10">Devtools panel</h1>
            <div class="flex-horizontal mgb-10">
                <button class="devtools-button" data-data="yes" style="background-color: #1B1B1D"><b>YES</b></button>
                <button class="devtools-button" data-data="no"><b>NO</b></button>
            </div>
        </div>

        <div id="customizeTable" class="tab" style="height: 90%; width: 90%; padding-left: 5%; display: none;">
            <h1 class="mgb-10">Customize table</h1>
            <p>Welcome to the table customization menu. Here, you can customize the DOMLogger++ results table to suit your needs. By clicking on the column name, you can adjust which columns you want to see. By dragging and dropping the columns, you can arrange the final order :D</p>
            <hr class="mgt-30 mgb-20">
            <div id="colList" class="mgt-20">
                <span>dupKey</span> |
                <span>type</span>   |
                <span>alert</span>  |
                <span>hook</span>   |
                <span>date</span>   |
                <span>href</span>   |
                <span>frame</span>  |
                <span>sink</span>   |
                <span>data</span>   |
                <span>trace</span>  |
                <span>debug</span>
            </div>
            <hr class="mgt-20 mgb-50">
            <table id="tablePreview" class="display">
                <thead>
                    <tr>
                        <th>dupKey</th>
                        <th>Type</th>
                        <th>Alert</th>
                        <th>Hook</th>
                        <th>Date</th>
                        <th>Href</th>
                        <th>Frame</th>
                        <th>Sink</th>
                        <th>Data</th>
                        <th>Trace</th>
                        <th>Debug</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
            <button id="table-reset" class="table-button"><b>Reset</b></button>
            <button id="table-default" class="table-button"><b>Default</b></button>
            <button id="table-save" class="table-button mgb-10"><b>Save</b></button><br>
            <span class="error" id="errorTable"></span>
        </div>

        <div id="customizeColor" class="tab" style="height: 90%; display: none;">
            <h1 class="mgb-10">Customize colors</h1>
            <div id="color-container">
                <div class="mgr-100">
                    <span class="mgr-10" style="font-size: 25px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Text</span>
                    <input id="text-color" name="text-color" class="color-picker" type="color">
                </div>
                <div>
                    <input id="background-color" name="background-color" class="color-picker" type="color">
                    <span class="mgl-10" style="font-size: 25px;">Background</span>
                </div>
            </div>
            <div class="mgb-20">
            <button id="color-reset" class="devtools-button mgr-10"><b>Reset</b></button>
            <button id="color-default" class="devtools-button"><b>Default</b></button>
            </div>
            <button id="color-confirm" class="devtools-button mgb-30"><b>Confirm</b></button><br>
            <iframe id="preview-iframe" scrolling="no" src="#settings" onloda="this.contentWindow.scrollTo(0, 0);"></iframe>
        </div>

        <div id="about" class="tab" style="display: none; width: 90%; padding-left: 5%;">
            <h1 class="mgb-10">About</h1>
            <p>DOMLogger++ is a browser extension developed for web developers and security researchers. It hooks into specific JavaScript sinks, helping users understand how web scripts operate. With customizable JSON settings, users can adjust how the extension works according to their needs.</p>
            <p>This tool is especially useful for those looking to identify security risks in web applications. By offering insights into JavaScript interactions, DOMLogger++ can help spot potential vulnerabilities in websites.</p>
            <p>© 2024 <a class="c-link" href="https://twitter.com/kevin_mizu" target="_blank">kevin_mizu</a>. All rights reserved.</p>
        </div>
    </div>
</body>

</html>