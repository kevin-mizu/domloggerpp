(()=>{var o={54:(o,e,t)=>{const{log:r,getConfig:n,getTargets:g,getOwnPropertyDescriptor:c,checkRegexs:l,execCode:i}=t(191);o.exports=(o,e,t)=>{const s=n(o,e,t);var a=domlogger.func["String.prototype.split"].call(t,":");t=domlogger.func["Array.prototype.pop"].call(a);const[p,f]=g(domlogger.func["String.prototype.split"].call(t,"."));if(0===a.length&&(a=["set","get"]),!p||!(f in p))return void domlogger.func["console.log"](`[DOMLogger++] ${t} (attribute) does not exist!`);try{if("function"==typeof p[f])return void domlogger.func["console.log"](`[DOMLogger++] ${t} can't be a function or a class!`)}catch{}const u=c(p,f);if(u.configurable){var d;if(!u.set||!u.get)try{d=p[f]}catch{if(u.set||!u.get)return void domlogger.func["console.log"](`[DOMLogger++] ${t} can't be hook for now!`);if(domlogger.func["Array.prototype.includes"].call(a,"set"))return void domlogger.func["console.log"](`[DOMLogger++] Only the getter can be hooked for ${t}, remove set!`)}Object.defineProperty(p,f,{get:function(){if(u.get?output=u.get.call(this):output=d,domlogger.func["Array.prototype.includes"].call(a,"get")){const n=l(t,s.match,output,!0),g=l(t,s["!match"],output,!1);output=i(t,s.hookFunction,output),!g&&n&&r(o,e,this.nodeName?`get:${this.nodeName.toLowerCase()}.${f}`:`get:${t}`,output,s)}return output},set:function(n){if(domlogger.func["Array.prototype.includes"].call(a,"set")&&n){const g=l(t,s.match,n,!0),c=l(t,s["!match"],n,!1);n=i(t,s.hookFunction,n),!c&&g&&r(o,e,this.nodeName?`set:${this.nodeName.toLowerCase()}.${f}`:`set:${t}`,n,s)}return u.set?u.set.call(this,n):void(d=n)}})}else domlogger.func["console.log"](`[DOMLogger++] ${t} is not configurable, can't hook it!`)}},746:(o,e,t)=>{const{log:r,getConfig:n,getTargets:g,getOwnPropertyDescriptor:c,checkRegexs:l,execCode:i}=t(191);o.exports=(o,e,t)=>{const s=n(o,e,t);var[a,p]=g(domlogger.func["String.prototype.split"].call(t,"."));a&&p in a?"function"==typeof a[p]?c(a,p).configurable?a[p]=new domlogger.func.Proxy(a[p],{construct:function(n,g){const c=l(t,s.match,g,!0),a=l(t,s["!match"],g,!1);return g=i(t,s.hookFunction,g),!a&&c&&r(o,e,t,g,s),new n(...g)}}):domlogger.func["console.log"](`[DOMLogger++] ${t} is not configurable, can't hook it!`):domlogger.func["console.log"](`[DOMLogger++] ${t} is not a class!`):domlogger.func["console.log"](`[DOMLogger++] ${t} (class) does not exist!`)}},3:(o,e,t)=>{const{log:r,getConfig:n,getTargets:g}=t(191),c={function:t(4),class:t(746),attribute:t(54)};o.exports=o=>{for(let e=0;e<o.length;e++)o[e].info=domlogger.func["String.prototype.split"].call(o[e].target,":"),o[e].config=n(o[e].hook,o[e].type,domlogger.func["Array.prototype.join"].call(domlogger.func["Array.prototype.slice"].call(o[e].info,1),":")),o[e].t=domlogger.func["Array.prototype.pop"].call(domlogger.func["Array.prototype.slice"].call(o[e].info,1));const e=domlogger.func.setInterval((()=>{for(const e of o){var[t,n]=g(domlogger.func["String.prototype.split"].call(e.t,"."));t&&n in t&&("attribute"!==e.info[0]||"set"!==e.info[1]&&"set"!==e.info[2]||r(e.hook,e.type,domlogger.func["Array.prototype.join"].call(domlogger.func["Array.prototype.slice"].call(e.info,1),":"),t[n],e.config),c[e.info[0]](e.hook,e.type,domlogger.func["Array.prototype.join"].call(domlogger.func["Array.prototype.slice"].call(e.info,1),":")),domlogger.func["Array.prototype.splice"].call(o,domlogger.func["Array.prototype.indexOf"].call(o,e),1))}0===o.length&&domlogger.func.clearInterval(e)}),50)}},454:(o,e,t)=>{const r=t(54),{log:n,getConfig:g,stringify:c,checkRegexs:l,execCode:i}=t(191);o.exports=(o,e,t)=>{const s=EventTarget.prototype.addEventListener;EventTarget.prototype.addEventListener=function(r,a,p){if(domlogger.func["Array.prototype.includes"].call(t,r)){const s=g(o,e,r),f=l(t,s.match,`${a}${p?`;options=${c(p)}`:""}`,!0),u=l(t,s["!match"],`${a}${p?`;options=${c(p)}`:""}`,!1);args=i(t,s.hookFunction,a),!u&&f&&n(o,e,`on${r}`,`${a}${p?`;options=${c(p)}`:""}`,s)}return s.call(this,r,a,p)};for(const n of t)`on${n}`in window&&`on${n}`in HTMLElement.prototype?(r(o,e,`set:on${n}`),r(o,e,`set:HTMLElement.prototype.on${n}`)):domlogger.func["console.log"](`[DOMLogger++] on${n} (event) does not exist!`)}},4:(o,e,t)=>{const{log:r,getConfig:n,getTargets:g,getOwnPropertyDescriptor:c,checkRegexs:l,execCode:i,stringify:s}=t(191);o.exports=(o,e,t)=>{const a=n(o,e,t);var[p,f]=g(domlogger.func["String.prototype.split"].call(t,"."));if(!p||!(f in p))return void domlogger.func["console.log"](`[DOMLogger++] ${t} (function) does not exist!`);if("function"!=typeof p[f])return void domlogger.func["console.log"](`[DOMLogger++] ${t} is not a function!`);if(!c(p,f).configurable)return void domlogger.func["console.log"](`[DOMLogger++] ${t} is not configurable, can't hook it!`);const u=p[f];p[f]=new domlogger.func.Proxy(p[f],{apply:function(n,g,c){const p=l(t,a.match,c,!0),f=l(t,a["!match"],c,!1);return c=i(t,a.hookFunction,c),!f&&p&&r(o,e,t,g?`this=${s(g)}; ${s(c)}`:c,a),domlogger.func.Reflect.apply(u,g,c)}})}},191:o=>{const e=async(o,e)=>{var t="";try{cleanUrl=e[0].split("@")[1].split(":"),execLine=cleanUrl.splice(cleanUrl.length-2).join(":"),cleanUrl=cleanUrl.splice(0,2).join(":"),t=`${new URL(cleanUrl).origin}:${execLine}`}catch{t=e[0]}return await(async o=>{const e=(new domlogger.func.TextEncoder).encode(o),t=await crypto.subtle.digest("SHA-256",e),r=domlogger.func["Array.from"](new domlogger.func.Uint8Array(t));return domlogger.func["Array.prototype.join"].call(domlogger.func["Array.prototype.map"].call(r,(o=>o.toString(16).padStart(2,"0"))),"")})(`${t}||${o}`)},t=o=>(void 0===o?o="undefined":"function"==typeof o?o=domlogger.func["Function.prototype.toString"].call(o):"string"!=typeof o&&(o=domlogger.func["JSON.stringify"](o)),o),r=(o,e,r,n)=>{if(!e)return n;r=t(r);for(let t of e){"exec"===domlogger.func["String.prototype.split"].call(t,":")[0]&&(t=g(o,t,r));try{new domlogger.func.RegExp(t)}catch{domlogger.func["console.log"](`[DOMLogger++] ${t} (regex) is invalid!`);continue}if(domlogger.func["String.prototype.match"].call(r,t))return!0}return!1},n=o=>{if(o&&o.requiredHooks)for(const e of o.requiredHooks)if(!domlogger.func["Array.prototype.includes"].call(domlogger.hookTypeHistory,e))return!1;return!0},g=(o,e,r="")=>{if(!e)return r;e=e.split(":").splice(1).join(":");var n=r;try{n=domlogger.func.Function("args","target",e)(r,o)}catch{domlogger.func["console.log"](`[DOMLogger++] ${t(e)} is an invalid code to evaluate!`)}return n};o.exports={log:async(o,g,c,l,i)=>{var s=(()=>{let o=(new domlogger.func.Error).stack;return o=domlogger.func["String.prototype.split"].call(o,"\n"),domlogger.func["Array.prototype.filter"].call(o,(o=>!domlogger.func["String.prototype.includes"].call(o,"/src/bundle.js")))})();"Error"===s[0]&&domlogger.func["Array.prototype.shift"].call(s);const a=await e(c,s);if(domlogger.debugCanary===a)debugger;var p=!1,f=!1;if(i.alert){const o=r(c,i.alert.match,l,!0);!r(c,i.alert["!match"],l,!1)&&o&&(p=!0,i.alert.notification&&(f=!0))}let u={ext:"domlogger++",date:domlogger.func["Date.now"](),href:location.href,type:g,hook:o,frame:top===self?"top":"subframe",sink:c,data:t(l),trace:s,debug:a,badge:p,notification:f};domlogger.func["Array.prototype.includes"].call(domlogger.hookTypeHistory,g)||domlogger.func["Array.prototype.push"].call(domlogger.hookTypeHistory,g),n(i)&&domlogger.func.postMessage(u,"*")},getConfig:(o,e,t)=>{var r=domlogger.hooksConfig["*"]?domlogger.hooksConfig["*"]:{},n=domlogger.hooksConfig[o]?domlogger.hooksConfig[o]:{},g=domlogger.hooksConfig[e]?domlogger.hooksConfig[e]:{},c=domlogger.hooksConfig[t]?domlogger.hooksConfig[t]:{};return domlogger.func["Object.assign"]({},r,c,n,g)},getTargets:o=>{var e=domlogger.func["Array.prototype.pop"].call(o),t=window;"window"===o[0]&&domlogger.func["Array.prototype.shift"].call(o);for(const e of o){if(!(e in t))return[null,null];t=t[e]}return[t,e]},getOwnPropertyDescriptor:(o,e)=>{for(;o;){const t=domlogger.func["Object.getOwnPropertyDescriptor"](o,e);if(t)return t;o=domlogger.func["Object.getPrototypeOf"](o)}},stringify:t,checkRegexs:r,execCode:g}}},e={};function t(r){var n=e[r];if(void 0!==n)return n.exports;var g=e[r]={exports:{}};return o[r](g,g.exports,t),g.exports}const r={function:t(4),class:t(746),attribute:t(54),event:t(454),custom:t(3)},n=new URL(document.currentScript.src),g=new URLSearchParams(n.search),c=JSON.parse(atob(g.get("hookSettings")));window.domlogger={},domlogger.clean=()=>{domlogger.debugCanary=""},domlogger.hooksTargets=c.hooks,domlogger.hooksConfig={},domlogger.hookTypeHistory=[],domlogger.debugCanary="undefined"===g.get("debugCanary")?void 0:g.get("debugCanary");for(const o of Object.keys(c.config))for(const e of o.split("|"))domlogger.hooksConfig[e]=c.config[o];domlogger.func={"Array.from":Array.from,"Array.prototype.filter":Array.prototype.filter,"Array.prototype.includes":Array.prototype.includes,"Array.prototype.indexOf":Array.prototype.indexOf,"Array.prototype.join":Array.prototype.join,"Array.prototype.map":Array.prototype.map,"Array.prototype.pop":Array.prototype.pop,"Array.prototype.push":Array.prototype.push,"Array.prototype.shift":Array.prototype.shift,"Array.prototype.slice":Array.prototype.slice,"Array.prototype.splice":Array.prototype.splice,clearInterval:clearInterval.bind(window),"console.log":console.log,"Date.now":Date.now,Error,Function,"Function.prototype.toString":Function.prototype.toString,"JSON.stringify":JSON.stringify,"Object.assign":Object.assign,"Object.entries":Object.entries,"Object.getOwnPropertyDescriptor":Object.getOwnPropertyDescriptor,"Object.getPrototypeOf":Object.getPrototypeOf,postMessage:postMessage.bind(window),Proxy,Reflect,RegExp,setInterval:setInterval.bind(window),"String.prototype.includes":String.prototype.includes,"String.prototype.match":String.prototype.match,"String.prototype.split":String.prototype.split,TextEncoder,Uint8Array},domlogger.customTargets=[];for(const[o,e]of domlogger.func["Object.entries"](domlogger.hooksTargets))for(const[t,n]of domlogger.func["Object.entries"](e))if("event"!==t)for(const e of n)"custom"!==t?r[t](t,o,e):domlogger.customTargets.push({hook:t,type:o,target:e});else r[t](t,o,n);r.custom(domlogger.customTargets)})();